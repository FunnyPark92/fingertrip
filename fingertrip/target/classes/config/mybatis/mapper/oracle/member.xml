<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "//mybatis.org//DTD Config 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="config.mybatis.mapper.oracle.member">
	<insert id="insertMember" parameterType="MemberVO">
		INSERT INTO MEMBER(MEMBER_NO, NAME, ID, PASSWORD, EMAIL1, EMAIL2, 
						HP1, HP2, HP3, ZIPCODE, ADDRESS, ADDRESS_DETAIL, GENDER, MAIL_AGREEMENT)
		VALUES(MEMBER_SEQ.NEXTVAL, #{name}, #{id}, #{password}, #{email1}, #{email2},
			 #{hp1}, #{hp2}, #{hp3}, #{zipcode}, #{address}, #{addressDetail}, #{gender}, #{mailAgreement})
	</insert>
	
	<select id="selectDbPwd" parameterType="string" resultType="string">
		SELECT PASSWORD FROM MEMBER WHERE ID=#{id} AND OUT_DATE IS NULL 
	</select>
	
	<select id="findIdCnt" parameterType="MemberVo" resultType="int">
		select count(*) from member
		where name=#{name} and email1=#{email1} and email2=#{email2}
	</select>
	
	<select id="findId" parameterType="MemberVo" resultType="string">
		select id from member
		where name=#{name} and email1=#{email1} and email2=#{email2}
	</select>
	
	<select id="findPwCnt" parameterType="MemberVo" resultType="int">
		select count(*) from member
		where id=#{id} and email1=#{email1} and email2=#{email2}
	</select>
	
	<update id="updatePw" parameterType="MemberVo">
		update member
		set password=#{password}
		where id=#{id} and email1=#{email1} and email2=#{email2}
	</update>
	
</mapper>









